{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sean\\\\Documents\\\\Web Projects\\\\issue-tracker\\\\web\\\\src\\\\components\\\\TicketList.js\";\nimport React, { useEffect, useState } from 'react';\nimport styled from 'styled-components';\nimport TicketDetails from \"./TicketDetails\";\nimport CreateTicketModal from \"./CreateTicketModal\";\nexport default function TicketList() {\n  const [show, setShow] = useState(false);\n  const [runTickets, setRunTickets] = useState(false);\n\n  const reRender = () => setRunTickets(true);\n\n  const openModal = () => setShow(true);\n\n  const closeModal = () => setShow(false);\n\n  const [tickets, updateTickets] = useState([]);\n  const [ticketIndex, updateticketIndex] = useState(\"0\");\n  useEffect(() => {\n    async function fetchTickets() {\n      const response = await fetch(\"/api/v1/tickets\");\n      const json = await response.json();\n      updateTickets(json.data);\n    }\n\n    fetchTickets();\n  }, [runTickets]);\n\n  const dateConverter = dateTime => {\n    const date = dateTime.substr(0, 10).split(\"-\");\n    date.push(date.splice(0, 1)[0]);\n    return date.join(\"/\");\n  };\n\n  return /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(TableTitle, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 21\n    }\n  }, \"Tickets\"), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: openModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 21\n    }\n  }, \"Create A Ticket\")), /*#__PURE__*/React.createElement(Table, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 36,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"thead\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 29\n    }\n  }, \"Title\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 29\n    }\n  }, \"Created\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 29\n    }\n  }, \"Assigned Developer\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 29\n    }\n  }, \"Ticket Priority\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 29\n    }\n  }, \"Ticket Status\"), /*#__PURE__*/React.createElement(\"th\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 29\n    }\n  }, \"Ticket Type\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }, tickets.map((ticket, index) => /*#__PURE__*/React.createElement(\"tr\", {\n    key: index,\n    onClick: () => updateticketIndex(index),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 33\n    }\n  }, ticket.title), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 33\n    }\n  }, dateConverter(ticket.createdOn)), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 33\n    }\n  }, ticket.assignedDev), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 33\n    }\n  }, ticket.ticketPriority), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 33\n    }\n  }, ticket.ticketStatus), /*#__PURE__*/React.createElement(\"td\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 33\n    }\n  }, ticket.ticketType)))))), !!tickets.length && /*#__PURE__*/React.createElement(TicketDetails, {\n    key: tickets._id,\n    reRender: reRender,\n    data: tickets[ticketIndex],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 35\n    }\n  }), show && /*#__PURE__*/React.createElement(CreateTicketModal, {\n    reRender: reRender,\n    closeModal: closeModal,\n    show: show,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 22\n    }\n  }));\n}\nconst Wrapper = styled.div` \ndisplay: flex;\nflex: 1;\njustify-content: space-between;\nbackground: white;\ngrid-area: ticketarea;\nheight: calc(100vh - 4.25rem);\noverflow-y: scroll;\n`;\nconst Table = styled.table`\nwidth: 100%;\nborder-collapse: collapse;\n\nthead th {\n    padding: 0.5rem;\n    text-align: left;\n    background: #e7f3fd;\n}\n\ntd{\n  padding: 0.5rem;\n  text-align: left;\n  border-bottom: solid 1px #EEE;\n}\ntd:nth-child(1) {\n    max-width: 400px;\n    white-space: nowrap;\n  overflow: hidden;\n    text-overflow: ellipsis;\n}\ntr{\n  height: 2rem;\n}\n`;\nconst TableTitle = styled.div`\ndisplay: flex;\njustify-content: space-between;\npadding: 1rem 1rem;\n\nh3 {\n    padding-top: .25rem; \n}\nbutton {\n      padding: .5rem;\n      background: #eb7012;\n      color: white;\n      border-radius: 5px;\n}\n`;","map":{"version":3,"sources":["C:/Users/Sean/Documents/Web Projects/issue-tracker/web/src/components/TicketList.js"],"names":["React","useEffect","useState","styled","TicketDetails","CreateTicketModal","TicketList","show","setShow","runTickets","setRunTickets","reRender","openModal","closeModal","tickets","updateTickets","ticketIndex","updateticketIndex","fetchTickets","response","fetch","json","data","dateConverter","dateTime","date","substr","split","push","splice","join","map","ticket","index","title","createdOn","assignedDev","ticketPriority","ticketStatus","ticketType","length","_id","Wrapper","div","Table","table","TableTitle"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport styled from 'styled-components';\r\nimport TicketDetails from \"./TicketDetails\"\r\nimport CreateTicketModal from \"./CreateTicketModal\"\r\n\r\nexport default function TicketList() {\r\n    const [show, setShow] = useState(false)\r\n    const [runTickets, setRunTickets] = useState(false)\r\n    const reRender = () => setRunTickets(true)\r\n    const openModal = () => setShow(true)\r\n    const closeModal = () => setShow(false)\r\n    const [tickets, updateTickets] = useState([])\r\n    const [ticketIndex, updateticketIndex] = useState(\"0\")\r\n    useEffect(() => {\r\n        async function fetchTickets() {\r\n            const response = await fetch(\"/api/v1/tickets\")\r\n            const json = await response.json()\r\n            updateTickets(json.data)\r\n        }\r\n        fetchTickets()\r\n    }, [runTickets])\r\n\r\n    const dateConverter = (dateTime) => {\r\n        const date = dateTime.substr(0, 10).split(\"-\")\r\n        date.push(date.splice(0, 1)[0])\r\n        return date.join(\"/\")\r\n    }\r\n\r\n    return (\r\n        <Wrapper>\r\n            < div >\r\n                <TableTitle>\r\n                    <h3>Tickets</h3>\r\n                    <button onClick={openModal}>Create A Ticket</button>\r\n                </TableTitle>\r\n                <Table>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>Title</th>\r\n                            <th>Created</th>\r\n                            <th>Assigned Developer</th>\r\n                            <th>Ticket Priority</th>\r\n                            <th>Ticket Status</th>\r\n                            <th>Ticket Type</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {tickets.map((ticket, index) => (\r\n                            <tr key={index} onClick={() => updateticketIndex(index)}>\r\n                                <td>{ticket.title}</td>\r\n                                <td>{dateConverter(ticket.createdOn)}</td>\r\n                                <td>{ticket.assignedDev}</td>\r\n                                <td>{ticket.ticketPriority}</td>\r\n                                <td>{ticket.ticketStatus}</td>\r\n                                <td>{ticket.ticketType}</td>\r\n                            </tr>\r\n                        ))}\r\n\r\n                    </tbody>\r\n                </Table>\r\n            </div>\r\n            { !!tickets.length && <TicketDetails key={tickets._id} reRender={reRender} data={tickets[ticketIndex]} />}\r\n            {show && <CreateTicketModal reRender={reRender} closeModal={closeModal} show={show} />}\r\n        </Wrapper>\r\n    );\r\n}\r\n\r\nconst Wrapper = styled.div` \r\ndisplay: flex;\r\nflex: 1;\r\njustify-content: space-between;\r\nbackground: white;\r\ngrid-area: ticketarea;\r\nheight: calc(100vh - 4.25rem);\r\noverflow-y: scroll;\r\n`\r\n\r\nconst Table = styled.table`\r\nwidth: 100%;\r\nborder-collapse: collapse;\r\n\r\nthead th {\r\n    padding: 0.5rem;\r\n    text-align: left;\r\n    background: #e7f3fd;\r\n}\r\n\r\ntd{\r\n  padding: 0.5rem;\r\n  text-align: left;\r\n  border-bottom: solid 1px #EEE;\r\n}\r\ntd:nth-child(1) {\r\n    max-width: 400px;\r\n    white-space: nowrap;\r\n  overflow: hidden;\r\n    text-overflow: ellipsis;\r\n}\r\ntr{\r\n  height: 2rem;\r\n}\r\n`\r\n\r\nconst TableTitle = styled.div`\r\ndisplay: flex;\r\njustify-content: space-between;\r\npadding: 1rem 1rem;\r\n\r\nh3 {\r\n    padding-top: .25rem; \r\n}\r\nbutton {\r\n      padding: .5rem;\r\n      background: #eb7012;\r\n      color: white;\r\n      border-radius: 5px;\r\n}\r\n`;"]},"metadata":{},"sourceType":"module"}