{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Sean\\\\Documents\\\\Web Projects\\\\issue-tracker\\\\web\\\\src\\\\pages\\\\Register.js\";\nimport React, { useState } from 'react';\nimport { useHistory } from \"react-router\";\nimport styled from \"styled-components\";\nexport default function Login() {\n  const history = useHistory();\n  const [state, setState] = useState({\n    firstName: \"\",\n    lastName: \"\",\n    email: \"\",\n    password: \"\",\n    error: \"\"\n  });\n\n  function handleChange(event) {\n    setState({ ...state,\n      [event.target.name]: event.target.value\n    });\n    event.preventDefault();\n  }\n\n  function handleSubmit(event) {\n    event.preventDefault();\n    fetch(\"/api/v1/users/add\", {\n      method: \"POST\",\n      mode: \"cors\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        firstName: state.firstName,\n        lastName: state.lastName,\n        email: state.email,\n        password: state.password\n      })\n    }).then(res => res.json()).then(data => {\n      if (Object.prototype.hasOwnProperty.call(data, \"error\")) {\n        setState({\n          error: data.error,\n          firstName: \"\",\n          lastName: \"\",\n          email: \"\",\n          password: \"\"\n        });\n      }\n\n      if (Object.prototype.hasOwnProperty.call(data, \"token\")) {\n        sessionStorage.setItem(\"token\", data.token);\n        sessionStorage.setItem(\"First Name\", data.firstName);\n        sessionStorage.setItem(\"Last Name\", data.lastName);\n        history.push(\"/tickets\");\n      }\n    });\n  }\n\n  return /*#__PURE__*/React.createElement(LoginWrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(LoginForm, {\n    onSubmit: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"h1\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }\n  }, \"Delivery Notes\"), /*#__PURE__*/React.createElement(\"h4\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }\n  }, state.error), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"firstName\",\n    type: \"text\",\n    placeholder: \"First Name\",\n    value: state.firstName,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"lastName\",\n    type: \"text\",\n    placeholder: \"Last Name\",\n    value: state.lastName,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"email\",\n    type: \"text\",\n    placeholder: \"Email\",\n    value: state.email,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    name: \"password\",\n    type: \"password\",\n    placeholder: \"Password\",\n    value: state.password,\n    onChange: handleChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 17\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"submit\",\n    value: \"Submit\",\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 17\n    }\n  })));\n}\nconst LoginWrapper = styled.div`\nbackground:#128DEB;\nheight: 100vh;\nwidth: 100%;\n\n`;\nconst LoginForm = styled.form`\n    position: absolute;\n    top: 10%;\n    margin-left: auto;\n    margin-right: auto;\n    left: 0;\n    right: 0;\n    align-items: center;\n    display: flex;\n    flex-direction: column;\n    background: white;\n    width: 30rem;\n    padding: 2rem 0;\n    border-radius: 10px;\n  \n  h1{\n    text-align: center;\n    color: #0d62a4;\n    padding-bottom: .5rem;  \n  }\n\n  h4{\n      color: red;\n  }\n  \n  input {\n    width: 20rem;\n    margin: 0.5rem 0;\n    padding: 1rem 0;\n    text-align: center;\n    border: 1px solid #ccc;\n    border-radius: 5px;\n  }\n  input[type=\"submit\"] {\n      margin-top: .75rem;\n    width: 5rem;\n    background: #eb7012;\n    color: white;\n  }\n \n`;","map":{"version":3,"sources":["C:/Users/Sean/Documents/Web Projects/issue-tracker/web/src/pages/Register.js"],"names":["React","useState","useHistory","styled","Login","history","state","setState","firstName","lastName","email","password","error","handleChange","event","target","name","value","preventDefault","handleSubmit","fetch","method","mode","headers","body","JSON","stringify","then","res","json","data","Object","prototype","hasOwnProperty","call","sessionStorage","setItem","token","push","LoginWrapper","div","LoginForm","form"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { useHistory } from \"react-router\"\r\nimport styled from \"styled-components\";\r\n\r\n\r\nexport default function Login() {\r\n    const history = useHistory()\r\n    const [state, setState] = useState({\r\n        firstName: \"\",\r\n        lastName: \"\",\r\n        email: \"\",\r\n        password: \"\",\r\n        error: \"\",\r\n\r\n    })\r\n    function handleChange(event) {\r\n        setState({\r\n            ...state,\r\n            [event.target.name]: event.target.value\r\n        })\r\n        event.preventDefault()\r\n    }\r\n\r\n    function handleSubmit(event) {\r\n\r\n        event.preventDefault()\r\n        fetch(\"/api/v1/users/add\", {\r\n            method: \"POST\",\r\n            mode: \"cors\",\r\n            headers: { \"Content-Type\": \"application/json\" },\r\n            body: JSON.stringify({\r\n                firstName: state.firstName,\r\n                lastName: state.lastName,\r\n                email: state.email,\r\n                password: state.password\r\n            })\r\n        })\r\n            .then((res) => res.json())\r\n            .then((data) => {\r\n                if (Object.prototype.hasOwnProperty.call(data, \"error\")) {\r\n                    setState({\r\n                        error: data.error,\r\n                        firstName: \"\",\r\n                        lastName: \"\",\r\n                        email: \"\",\r\n                        password: \"\"\r\n                    });\r\n\r\n                }\r\n                if (Object.prototype.hasOwnProperty.call(data, \"token\")) {\r\n                    sessionStorage.setItem(\"token\", data.token);\r\n                    sessionStorage.setItem(\"First Name\", data.firstName);\r\n                    sessionStorage.setItem(\"Last Name\", data.lastName);\r\n\r\n                    history.push(\"/tickets\");\r\n                }\r\n            });\r\n    }\r\n    return (\r\n        <LoginWrapper>\r\n            <LoginForm onSubmit={handleSubmit}>\r\n                <h1>Delivery Notes</h1>\r\n                <h4>{state.error}</h4>\r\n                <input\r\n                    name=\"firstName\"\r\n                    type=\"text\"\r\n                    placeholder=\"First Name\"\r\n                    value={state.firstName}\r\n                    onChange={handleChange}\r\n                />\r\n                <input\r\n                    name=\"lastName\"\r\n                    type=\"text\"\r\n                    placeholder=\"Last Name\"\r\n                    value={state.lastName}\r\n                    onChange={handleChange}\r\n                />\r\n\r\n                <input\r\n                    name=\"email\"\r\n                    type=\"text\"\r\n                    placeholder=\"Email\"\r\n                    value={state.email}\r\n                    onChange={handleChange}\r\n                />\r\n\r\n                <input\r\n                    name=\"password\"\r\n                    type=\"password\"\r\n                    placeholder=\"Password\"\r\n                    value={state.password}\r\n                    onChange={handleChange}\r\n                />\r\n\r\n                <input type=\"submit\" value=\"Submit\" onClick={handleSubmit} />\r\n\r\n            </LoginForm>\r\n        </LoginWrapper>\r\n    )\r\n}\r\n\r\nconst LoginWrapper = styled.div`\r\nbackground:#128DEB;\r\nheight: 100vh;\r\nwidth: 100%;\r\n\r\n`\r\n\r\nconst LoginForm = styled.form`\r\n    position: absolute;\r\n    top: 10%;\r\n    margin-left: auto;\r\n    margin-right: auto;\r\n    left: 0;\r\n    right: 0;\r\n    align-items: center;\r\n    display: flex;\r\n    flex-direction: column;\r\n    background: white;\r\n    width: 30rem;\r\n    padding: 2rem 0;\r\n    border-radius: 10px;\r\n  \r\n  h1{\r\n    text-align: center;\r\n    color: #0d62a4;\r\n    padding-bottom: .5rem;  \r\n  }\r\n\r\n  h4{\r\n      color: red;\r\n  }\r\n  \r\n  input {\r\n    width: 20rem;\r\n    margin: 0.5rem 0;\r\n    padding: 1rem 0;\r\n    text-align: center;\r\n    border: 1px solid #ccc;\r\n    border-radius: 5px;\r\n  }\r\n  input[type=\"submit\"] {\r\n      margin-top: .75rem;\r\n    width: 5rem;\r\n    background: #eb7012;\r\n    color: white;\r\n  }\r\n \r\n`;\r\n\r\n"]},"metadata":{},"sourceType":"module"}